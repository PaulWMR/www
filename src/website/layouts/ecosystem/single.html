{{ define "main" }}

<div class="layout newEcosystem">
    <aside class="aside col-auto">
        <div>
            <ul class="list-unstyled">
                {{ $ecosystem := .Params.ecosystem }}

                <h2>{{ $ecosystem }}</h2>

                {{ $data := index .Site.Data.ecosystem $ecosystem }}

                <li>
                    <h4>Concepts</h4>
                    <ul class="list-unstyled ms-3">
                        {{ range where (where .Site.RegularPages "Type" "eq" "concept") ".Params.ecosystem" "eq" $ecosystem }}
                        <li>
                            <a href="{{ .RelPermalink }}/" class="{{ if eq .RelPermalink $.Page.RelPermalink }}active{{ end }}">{{ .Title }}</a>
                        </li>
                        {{ end }}
                    </ul>
                </li>

                <li>
                    <h4>Project</h4>
                    <ul class="list-unstyled ms-3">
                        <li><a href="/ecosystem/{{ $data.ref }}/changelog/">Changelog</a></li>
                        <li><a href="{{ $data.github }}">GitHub</a></li>
                        <li><a href="/ecosystem/{{ $data.ref }}/contributing/">Contributing</a></li>
                        <li><a href="{{ $data.github }}/issues">Issue Tracker</a></li>
                    </ul>
                </li>


                <li>
                    <h4>Reference</h4>
                    <ul class="list-unstyled ms-3">
                        {{ range where (where .Site.RegularPages "Type" "eq" "module") ".Params.ecosystem" "eq" $ecosystem }}
                        <li>
                            <a href="{{ .RelPermalink }}/" class="{{ if eq .RelPermalink $.Page.RelPermalink }}active{{ end }}">{{ .Title }}</a>
                        </li>
                        {{ end }}
                    </ul>
                </li>
            </ul>
        </div>
    </aside>

    <main class="main-content">
        <img class="mb-3 sideToggle" src="/images/exchange-icon.svg" width="100" alt="" srcset=""/>
        {{ (resources.GetRemote .Params.remote).Content | markdownify }}
    </main>
</div>

<script language="JavaScript">
    $(".sideToggle").on("click", function() {
        $(".aside").toggleClass("no-side");
    });
</script>

{{ end }}
